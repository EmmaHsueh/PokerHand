# 大老二卡牌排序程式

## 專案簡介

這是一個用 C 語言實作的大老二卡牌排序程式，能夠根據大老二的遊戲規則對 13 張卡牌進行排序。程式支援使用者輸入 13 張卡牌編碼，並按照大老二的排序規則（2 > A > K > Q > J > 10 > ... > 3）進行排序。

## 功能特色

- **大老二排序**：按照大老二遊戲規則對卡牌進行排序
- **使用者輸入**：支援使用者自行輸入 13 張卡牌編碼
- **輸入驗證**：完整的輸入格式和範圍驗證
- **重複檢查**：檢查並防止重複卡牌輸入
- **排序顯示**：清楚顯示排序前後的卡牌順序
- **錯誤處理**：友善的錯誤提示和處理機制

## 編譯與執行

### 編譯程式
```bash
make hw0401
# 或
gcc -Wall -Wextra -std=c11 -o hw0401 poker.o hw0401.o
```

### 執行程式
```bash
./hw0401
```

## 大老二排序規則

### 卡牌編碼對應
- **1-13**：♠ (黑桃) - A, 2, 3, 4, 5, 6, 7, 8, 9, 10, J, Q, K
- **14-26**：♡ (紅心) - A, 2, 3, 4, 5, 6, 7, 8, 9, 10, J, Q, K
- **27-39**：♢ (方塊) - A, 2, 3, 4, 5, 6, 7, 8, 9, 10, J, Q, K
- **40-52**：♣ (梅花) - A, 2, 3, 4, 5, 6, 7, 8, 9, 10, J, Q, K

### 排序規則
大老二的排序規則如下（由大到小）：
1. **點數優先**：2 > A > K > Q > J > 10 > 9 > 8 > 7 > 6 > 5 > 4 > 3
2. **花色次之**：當點數相同時，按照 ♠ > ♡ > ♢ > ♣ 的順序

### 排序範例
- 2♠ > 2♡ > 2♢ > 2♣ > A♠ > A♡ > A♢ > A♣ > K♠ > ... > 3♣

## 使用方式

### 輸入格式
1. 程式會提示輸入 13 張卡牌編碼
2. 輸入範圍：1-52 的整數
3. 格式：數字之間用空格分隔
4. 限制：不能有重複的卡牌

### 使用範例

#### 範例 1：基本排序
```
請輸入 13 張卡牌的編碼（範圍 1-52），以空格分隔：
1 14 27 40 2 15 28 41 13 26 39 52 51
Cards before sorting:
1 14 27 40 2 15 28 41 13 26 39 52 51 
Cards after sorting:
51 1 13 26 14 27 39 52 40 2 15 28 41 
```

#### 範例 2：包含 2 的排序
```
請輸入 13 張卡牌的編碼（範圍 1-52），以空格分隔：
2 15 28 41 1 14 27 40 13 26 39 52 51
Cards before sorting:
2 15 28 41 1 14 27 40 13 26 39 52 51 
Cards after sorting:
2 15 28 41 1 14 27 40 13 26 39 52 51 
```

#### 範例 3：錯誤輸入
```
請輸入 13 張卡牌的編碼（範圍 1-52），以空格分隔：
1 1 2 3 4 5 6 7 8 9 10 11 12
Cards before sorting:
1 1 2 3 4 5 6 7 8 9 10 11 12 
Error: Invalid cards or duplicates found.
```

## 程式架構

### 主要檔案
- **`hw0401.c`**：主程式檔案，處理輸入輸出和使用者介面
- **`poker.h`**：標頭檔，定義核心函數介面
- **`poker.c`**：核心演算法實作，包含大老二排序邏輯

### 核心函數

#### 主要函數
- **`big_two_sort(int8_t cards[])`**：核心排序函數
  - 參數：13 張卡牌的陣列
  - 回傳：0（成功）、-1（錯誤）

#### 輔助函數
- **`get_rank(int8_t card)`**：取得卡牌的點數（轉換為大老二規則）
- **`get_suit(int8_t card)`**：取得卡牌的花色
- **`compare_cards(int8_t card1, int8_t card2)`**：比較兩張卡牌的大小
- **`bubble_sort(int8_t cards[], int size)`**：氣泡排序實作

### 演算法說明

程式使用氣泡排序演算法來實現大老二排序：

1. **輸入驗證**：檢查卡牌範圍（1-52）和重複性
2. **點數轉換**：將標準卡牌點數轉換為大老二規則
   - A → 14, 2 → 15, 其他維持原值
3. **排序比較**：先比較點數，再比較花色
4. **氣泡排序**：使用氣泡排序演算法進行排序

## 技術特點

- **記憶體效率**：使用 `int8_t` 節省記憶體空間
- **輸入驗證**：完整的範圍和重複檢查
- **模組化設計**：核心演算法與使用者介面分離
- **錯誤處理**：友善的錯誤提示和處理機制
- **排序穩定性**：使用穩定的氣泡排序演算法

## 注意事項

1. **輸入格式**：必須按照提示的格式輸入，數字間用空格分隔
2. **卡牌範圍**：每張卡牌必須在 1-52 的範圍內
3. **重複限制**：不能輸入重複的卡牌
4. **手牌數量**：必須輸入恰好 13 張卡牌
5. **排序規則**：按照大老二的特殊排序規則（2 > A > K > ... > 3）

## 錯誤處理

程式會處理以下錯誤情況：
- 無效的卡牌編碼（超出 1-52 範圍）
- 重複的卡牌輸入
- 輸入格式錯誤
- 卡牌數量不正確
